# Vue 에서 Unit Testing 하기 - 1편

## 테스트 코드의 장점

### 테스팅은 코드에 대한 확신을 부여합니다.

새로운 프로젝트를 맡게 되었을 때 테스트 코드가 존재한다면 새로운 기능을 추가하거나

기존에 있던 기능을 수정할 때 좀 더 확신을 가지고 코드 수정 후에도 

안정적으로 동작한다는 것을 보장할 수 있습니다.

이러한 장점은 규모가 큰 서비스에서 더욱 빛을 발하게 됩니다.

### 코드 품질 향상

테스트하기 어려운 컴포넌트는 리팩토링이 필요한 대상인지 

한번 검증해볼 필요가 있음을 알려줍니다.

또한 컴포넌트를 생성할 때 테스트 코드를 함께 작성하면 비의존적이고 

재사용가능한 컴포넌트를 만드는 것에 도움을 줍니다.

### 문서화

테스트 코드 자체로 컴포넌트에 대한 문서 역할을 할 수 있습니다.

새로운 코드를 다루게 되었을 때 덩그러니 코드만 있는 것보다는 테스트 케이스가 있는 것이

보다 로직을 쉽게 파악할 수 있도록 도움을 줍니다.

## 무엇을 테스트 해야하는가?

Vue.js 애플리케이션에서 테스트해야하는 요소는 명확합니다.

바로 앱을 구성하는 `컴포넌트` 입니다. 😀

컴포넌트를 테스트 할때는 공개된 인터페이스들을 검증하는 것이 좋은 방법입니다.

각각의 컴포넌트는 `input` 과 `output` 이 존재합니다.

여기서 우리는 각각의 `input` 이 어떤 방법으로 `output` 을 만드는 지에 집중하지 않습니다.

대신 각 `input` 에 따라 달라지는 `output` 들이 올바른 형태인지에 초점을 맞춥니다.

<img width="856" alt="_2021-06-11__5 08 17" src="https://user-images.githubusercontent.com/37819666/121777492-5897a700-cbcd-11eb-966a-04352929fc10.png">

## 그렇다면 무엇을 테스트하지 않아야 하는가?

사실 막상 테스트 코드를 작성하려고 하면 가장 막막했던 부분이 `어디까지 테스트를 작성하는가?` 였습니다.

본 글에서도 `무엇을 테스트 하지 않아야 하는지` 판단하는 것이 중요하다고 언급하고 있습니다.

불필요한 테스트는 시간대비 효율이 좋지 못하기 때문입니다.

### 내부 구현 로직

다음과 같이 최소 및 최대 값을 활용한 난수 생성 로직이 있다고 하겠습니다.

```jsx
generateRandomNumber() {
  this.randomNumber = Math.floor(Math.random() * (this.max - this.min + 1) ) + this.min;
}
```

만약 위 함수를 테스트해야 한다고 하면 어떤 식으로 해야할까요?

내부에 어떻게 난수를 생성하는지 검증할 필요가 있을까요?

우리가 집중할 부분은 `해당 함수를 통해 일정 범위 내의 난수를 올바르게 생성하는가?` 입니다.

따라서 불필요하게 `Math.random` 함수의 동작을 검증하고 하는 등의 작업은 불필요한 것입니다.

### 프레임워크 자체 기능

프레임워크 자제적으로 제공하는 기능을 검증하는 것도 불필요합니다.

이는 이미 해당 프레임워크 개발 시 충분한 테스트가 이루어졌기 때문입니다.

예를 들어 Vue 의 경우 데이터가 바뀜에 따라 DOM 렌더링이 변경되는데, 

이에 대한 테스트 코드를 따로 작성할 필요가 없다는 것을 의미합니다.

### 서드 파티 라이브러리

NPM 에 올라와있는 모듈 뿐만 아니라 Vue 에서 제공하는 다른 라이브러리도 이미 충분히 검증된 상태로

배포되기 때문에 해당 라이브러리에서 제공하는 기능까지 테스트를 추가할 필요는 없습니다.

## 참고자료

[Unit Testing in Vue: What to Test? | Vue Mastery](https://www.vuemastery.com/blog/unit-testing-vue-1)